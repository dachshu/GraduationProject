# NMT용 입력 생성 스크립트
[뉴스 필터 스크립트]의 결과물을 입력으로 받아서 NMT 모델이 학습할 input 파일로 변환시키는 스크립트.

## 사용법
```
python3 make_input_for_nmt.py OUT_DIR [-n MAX_NUM]
혹은
./make_input_for_nmt.py OUT_DIR [-n MAX_NUM]
```

OUT_DIR : 출력파일이 저장될 디렉토리. 이 디렉토리 안에 train, test, dev, vocab 파일들이 저장된다. 디렉토리가 없다면 생성한다.

## 입력 및 출력 형식
입력의 경우 stdin을 통해 [뉴스 필터](./news_filter.md)의 출력을 전달 받는다.

확장자명에 따라 파일이 담는 내용이 달라진다.  
`.comment` 확장자를 가진 파일은 각 줄에 댓글 하나씩이 기록되어있다.  
`.title` 확장자를 가지는 경우 안에는 기사의 제목들만 저장된다. 각 기사 제목은 같은 이름에 `.comment` 확장자를 가진 파일 안에 있는 댓글들과 1:1로 매칭된다.

`train` 이란 이름을 가진 파일들은 NMT 모델을 학습하는데 사용되고, `test` 를 이름으로 가진 파일들은 학습과정에서 모델을 평가할 때 사용된다. `dev` 파일은 `test` 파일의 복사본이다.  
`train` 파일과 `test` 파일은 전체 댓글을 7:3으로 나누어 저장하고 있다.

`vocab` 파일은 공백을 기준으로 위의 파일들에서 단어들을 추출해 저장해놓은 어휘 데이터이다. NMT 모델의 요구사항으로 처음 3개의 단어는 `<unk>`,`<s>`,`</s>`로 고정되어있다.  
`vocab` 파일은 제목과 댓글이 공유하기 때문에 1개만 존재한다.

**train.title**
```
기사제목1
기사지목1
기사제목2
기사제목2
...
```
**train.comment**
```
기사1의댓글1
기사1의댓글2
기사2의댓글1
기사2의댓글2
...
```
**vocab.title**
```
<unk>
<s>
</s>
단어1
단어2
단어3
...
```
